{
	"info": {
		"_postman_id": "1356073c-c3eb-4b4a-9f1e-a810d95fcea7",
		"name": "✅ Assignment #1",
		"description": "## Instructions for Assignment #1\n\n1. **Get the challenge:** Fork the parent collection to your own public workspace.\n2. **Read the instructions:** You will find the tasks you need to complete below.\n3. **Verify your solution:** Select the second folder `Check your solution` and follow the instructions in the documentation to validate your solution.\n    \n\n## Tasks\n\n### Task 1\n\nAdd to the request \"**Get API status**\" a Postman test that verifies the status is 200.\n\nOnce you have established that the test is working as expected, duplicate the request and drag it inside the \"Assignment #1\" collection and put it in the \"API requests\" folder. Ensure the name of the request remains the same.\n\n### Task 2\n\nAdd to the request \"**Get single product**\" a script that parses the JSON response body. Log the value of the property \"product-description\" to the Postman console.\n\nOnce you have established that the script is working as expected, duplicate the request and drag it inside the \"Assignment #1\" collection and put it in the \"API requests\" folder. Ensure the name of the request remains the same.\n\n### Task 3\n\nAdd to the request \"**Create a new order**\" a script that parses the JSON response body and sets a Postman variable named `orderId` with the id of the order that was just created.\n\nOnce you have established that the script is working as expected, duplicate the request and drag it inside the \"Assignment #1\" collection and put it in the \"API requests\" folder. Ensure the name of the request remains the same.",
		"schema": "https://schema.getpostman.com/json/collection/v2.0.0/collection.json"
	},
	"item": [
		{
			"name": "API requests",
			"item": [
				{
					"name": "Get API status",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "1302db04-2811-486f-bfd3-bbe229a9df38",
								"exec": [
									"// Task 1\r",
									"// Add to the request \"Get API status\" a Postman test that verifies the status is 200.\r",
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"id": "d1387ecd-9511-4c2f-8846-6d4f92bd7cb8",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [],
						"url": "{{baseUrl}}/status"
					},
					"response": []
				},
				{
					"name": "Get single product",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "a3b51183-a6f5-466a-9d97-6f6cd6718710",
								"exec": [
									""
								],
								"type": "text/javascript",
								"packages": {}
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "0cb74168-630c-485e-8116-f07f9cf01f1b",
								"exec": [
									"// Task 2\r",
									"// Add to the request \"Get single product\" a script that parses the JSON response body. \r",
									"const response = pm.response.json();\r",
									"// Log the value of the property \"product-description\" to the Postman console.\r",
									"console.log(response[\"product-description\"]);"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"id": "86a90e89-d7af-417f-b379-a56d6459c5dc",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/products/:productId",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"products",
								":productId"
							],
							"variable": [
								{
									"id": "2323c3fb-95b6-40fd-954e-3779fc6a286e",
									"key": "productId",
									"value": "{{productId}}"
								}
							]
						},
						"description": "Retrieve a single product by specifying the product ID."
					},
					"response": []
				},
				{
					"name": "Create a new order",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "85471839-6f0c-4fd4-af5d-149160cb7fed",
								"exec": [
									"// Task 3\r",
									"// Add to the request \"Create a new order\" a script that parses the JSON response body\r",
									"const response = pm.response.json();\r",
									"// Sets a Postman variable named orderId with the id of the order that was just created.\r",
									"pm.collectionVariables.set('orderID', response.id);"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"id": "bf38e12e-062e-43b7-9f9e-42215c342278",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"customerName\": \"{{$randomFullName}}\",\n  \"products\": [\n    {\n      \"id\": {{productId}},\n      \"quantity\": 1\n    },\n    {\n      \"id\": 2002,\n      \"quantity\": 3\n    }\n  ]\n}",
							"options": {
								"raw": {
									"headerFamily": "json",
									"language": "json"
								}
							}
						},
						"url": "{{baseUrl}}/orders",
						"description": "Place a new order by providing customer details and ordered products"
					},
					"response": []
				}
			],
			"id": "a3ff1249-1753-4c4d-842e-271c4a8b59c0"
		},
		{
			"name": "Check your solution",
			"item": [
				{
					"name": "Verify your work",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "a17c8640-d0ab-4150-a5c9-8a3960aa3d22",
								"exec": [
									"let collection = pm.response.json().collection",
									"",
									"pm.test(\"If you have any failures, review the failed test results or ask for support in the community forum. Remember to save your changes if you update the collection.\", () => {",
									"    pm.expect(true);",
									"});",
									"",
									"pm.test(\"Status code is 200\", () => {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Correct collection returned\", () => {",
									"    pm.expect(collection.info.name).contains(\"Assignment #1\")",
									"});",
									"",
									"pm.test(\"API key secure\", () => {",
									"    let apiKey = collection.variable.find(item => { return item.key === \"postman_api_key\"});",
									"    pm.expect(apiKey.value, 'API key visible under Initial value').does.not.include(\"PMAK\");",
									"});",
									"",
									"let folder = collection.item.find(fol => {return fol.name === \"API requests\"})",
									"",
									"pm.test(\"Requests added correctly\", () => {",
									"    pm.expect(folder.item.length, 'check number of requests').equals(3);",
									"",
									"    let request;",
									"",
									"    request = folder.item.find(req => { return req.name === \"Get API status\"})",
									"    pm.expect(request.name, 'check name').equals(\"Get API status\");",
									"",
									"    request = folder.item.find(req => { return req.name === \"Get single product\"})",
									"    pm.expect(request.name, 'check name').equals(\"Get single product\");",
									"",
									"    request = folder.item.find(req => { return req.name === \"Create a new order\"})",
									"    pm.expect(request.name, 'check name').equals(\"Create a new order\");    ",
									"})",
									"",
									"",
									"",
									"pm.test(\"Get API status contains status 200 test\", () => {",
									"    let request = folder.item.find(req => {return req.name === \"Get API status\"})",
									"",
									"    pm.expect(request.event).to.be.an('array', 'The request has no scripts.');",
									"    let tests = request.event.find(event => event.listen === 'test');",
									"    pm.expect(tests).to.be.an('object', 'The request has no test script.');",
									"    pm.expect(tests.script.exec.toString(), 'check script').includes(\"pm.test\");",
									"    pm.expect(tests.script.exec.toString(), 'check script').includes(\"pm.response.to.have.status\");",
									"});",
									"",
									"pm.test(\"Get single product parses the response body and logs a value to the Postman console\", () => {",
									"    let request = folder.item.find(req => {return req.name === \"Get single product\"});",
									"",
									"    pm.expect(request.event).to.be.an('array', 'The request has no scripts.');",
									"    let tests = request.event.find(event => event.listen === 'test');",
									"    pm.expect(tests).to.be.an('object', 'The request has no test script.');",
									"    pm.expect(tests.script.exec.toString(), 'check script').includes(\"pm.response.json()\");",
									"    pm.expect(tests.script.exec.toString(), 'check script').includes(\"console.log\");",
									"    pm.expect(tests.script.exec.toString(), 'check script').includes(\"product-description\");",
									"});",
									"",
									"pm.test(\"Create a new order sets a Postman variable\", () => {",
									"    let request = folder.item.find(req => {return req.name === \"Create a new order\"});",
									"",
									"    pm.expect(request.event).to.be.an('array', 'The request has no scripts.');",
									"    let tests = request.event.find(event => event.listen === 'test');",
									"    pm.expect(tests).to.be.an('object', 'The request has no test script.');",
									"    pm.expect(tests.script.exec.toString(), 'check script').includes(\"pm.response.json()\");",
									"    pm.expect(tests.script.exec.toString(), 'check script').includes(\"pm.collectionVariables.set\");",
									"});"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "8797ea36-c2e2-45f5-a5e2-a2869ba54dd6",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"id": "7c0890ce-ea14-4666-8f44-49964299d36f",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"auth": {
							"type": "apikey",
							"apikey": {
								"value": "",
								"key": "X-API-Key",
								"in": "header"
							}
						},
						"method": "GET",
						"header": [
							{
								"key": "x-api-key",
								"value": "{{postman_api_key}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "https://api.getpostman.com/collections/:collectionId?apikey={{postman_api_key}}",
							"protocol": "https",
							"host": [
								"api",
								"getpostman",
								"com"
							],
							"path": [
								"collections",
								":collectionId"
							],
							"query": [
								{
									"key": "apikey",
									"value": "{{postman_api_key}}"
								}
							],
							"variable": [
								{
									"id": "5e4d3bdb-36b1-4370-a95d-a695f6dc7f09",
									"key": "collectionId",
									"value": "{{collection_uuid}}"
								}
							]
						},
						"description": "It's time to check your work.\n\n1. **Get the collection ID:** Select the collection \"Assignment #1\" in the sidebar. Then in the context bar to the right, select the `Info` icon and copy the collection `ID`. Make sure you're getting the `ID` for the collection, and not this request.\n2. **Update the request URL:** Update the `{{collection_uuid}}` in the request URL with the collection `ID` from the previous step, by updating the Postman collection variable.\n    \n3. **Get your Postman API key**: Select the collection in the left sidebar, and tab over to **Variables** to edit collection variables. You can already see one variable called `postman_api_key`. Get your [Postman API key](https://go.postman.co/settings/me/api-keys), and paste the value under `CURRENT VALUE` (and not `INITIAL VALUE`).> ⚠ DON'T LEAK YOUR SECRETS!  \n    It's very important to add sensitive values like an API key to the `CURRENT VALUE` (and not `INITIAL VALUE`) of your public workspace since initial values can be viewed publicly in a public workspace. Storing sensitive values only in `CURRENT VALUE` keeps your secrets private in a team or public workspace. If you accidentally show your API key, [revoke and regenerate your API key](https://go.postman.co/settings/me/api-keys).  \n    Once you save the changes, Postman can authorize your request as shown under the **Headers** tab of the request.\n4. **Validate your solution**: Hit **Send** and look under the **Tests** tab of the server response at the bottom to review your test results. ENSURE ALL TESTS PASS.\n    \n\nIf you have any failures, review the failed test results or ask for support in the [community forum](https://community.postman.com/c/training/38). When all of your tests pass, move on to the next request in this folder."
					},
					"response": []
				}
			],
			"id": "6f988ab3-e1eb-444d-a65d-4b00e2d46192",
			"description": "Open the request \"Verify your work\" and follow the instructions in the request documentation."
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"id": "5e1e450b-dcad-4bfe-8ba8-aed63b0a070d",
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"id": "773620cf-5037-4132-9625-580df7ed8025",
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "postman_api_key",
			"value": ""
		},
		{
			"key": "collection_uuid",
			"value": "",
			"type": "string"
		},
		{
			"key": "baseUrl",
			"value": "https://valentinos-coffee.herokuapp.com",
			"type": "string"
		},
		{
			"key": "productId",
			"value": "",
			"type": "string"
		},
		{
			"key": "orderID",
			"value": ""
		}
	]
}
